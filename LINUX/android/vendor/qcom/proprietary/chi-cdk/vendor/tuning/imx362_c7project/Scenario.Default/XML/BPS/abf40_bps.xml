<?xml version="1.0" encoding="utf-8" ?>
<!--
========================================================================
   Copyright(c) 2017 Qualcomm Technologies, Inc.
   All Rights Reserved.
   Confidential and Proprietary - Qualcomm Technologies, Inc.
========================================================================
-->
<abf40_bps
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="..\..\..\XSD\isp\abf_4_0_0.xsd">
  <enable_section>
    <bilateral_en description="enable bilateral filtering, tier 1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</bilateral_en>
    <minmax_en description="enable built-in min-max pixel filter, tier  1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="if BPC module is on, this feature is likely off">0</minmax_en>
    <dirsmth_en description="enable Directional Smoothing filter, tier 1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</dirsmth_en>
  </enable_section>
  <module_version major_revision="4" minor_revision="0" incr_revision="0"/>
  <control_variables>
    <control_var_type>control_drc_gain</control_var_type>
    <control_var_type>control_aec_exp_sensitivity_ratio</control_var_type>
    <control_var_type>control_gain</control_var_type>
  </control_variables>
  <control_method>
    <aec_exp_control>control_gain</aec_exp_control>
    <aec_hdr_control>control_aec_exp_sensitivity_ratio</aec_hdr_control>
  </control_method>
  <dynamic_enable_triggers>
    <bilateral_en>
      <enable description="enable ABF4.0 module" range="[0, 1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">0</enable>
      <hyst_control_var description="enable ABF4.0 module" range="[0, 1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">control_gain</hyst_control_var>
      <hyst_mode>UPWARD</hyst_mode>
      <hyst_trigger>
        <start1>1</start1>
        <end1>900</end1>
        <start2>1</start2>
        <end2>600</end2>
      </hyst_trigger>
    </bilateral_en>
  </dynamic_enable_triggers>
  <chromatix_abf40_reserve>
    <cross_plane_en description="enable Gr/Gb cross processing in bilateral filtering" range="[0,1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">1</cross_plane_en>
    <dark_desat_en description="enable dark desaturation feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_desat_en>
    <dark_smooth_en description="enable dark area smoothing feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_smooth_en>
    <act_adj_en description="enable activity based adjustment feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="It is effective only when both bilateral_en and dirsmth_en are set to 1">0</act_adj_en>
    <blk_opt description="block matching pattern for R/B " range="[0, 2]" bit_depth="2u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</blk_opt>
    <radial_anchor_tab description="anchor tables from center to frame boundary" range="[0.0, 1.0]" bit_depth="float" length="5" conversion="No Conversion needed " tuning_parameter_level="must_tune" additional_notes="rnr_anchor[0] is 0 by default. normally rnr_anchor[4] is 1.0.">
      <radial_anchor>0 0.4 0.6 0.8 1</radial_anchor>
    </radial_anchor_tab>
  </chromatix_abf40_reserve>
  <chromatix_abf40_core>
    <mod_abf40_drc_gain_data>
      <drc_gain_trigger>
        <start>1</start>
        <end>100</end>
      </drc_gain_trigger>
      <drc_gain_data>
        <mod_abf40_hdr_aec_data>
          <hdr_aec_trigger>
            <exp_time_start>1</exp_time_start>
            <exp_time_end>64</exp_time_end>
            <aec_sensitivity_start>1</aec_sensitivity_start>
            <aec_sensitivity_end>64</aec_sensitivity_end>
          </hdr_aec_trigger>
          <hdr_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>270</lux_idx_start>
                <lux_idx_end>280</lux_idx_end>
                <gain_start>1</gain_start>
                <gain_end>1.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 4.358899 6.164414 7.549834 8.717798 9.746795 10.63015 11.48913 12.28821 13.0384 13.74773 14.4222 15.06652 15.68439 16.27882 16.8523 17.37815 17.91647 18.43909 18.9473 19.44222 19.92486 20.39608 20.85665 21.30728 21.74856 22.18107 22.58318 23 23.4094 23.81176 24.20744 24.59675 24.97999 25.35744 25.72936 26.09598 26.43861 26.79552 27.14774 27.49545 27.83882 28.17801 28.51315 28.84441 29.1719 29.49576 29.8161 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644 30.11644</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>290</lux_idx_start>
                <lux_idx_end>295</lux_idx_end>
                <gain_start>1.9</gain_start>
                <gain_end>2.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 5.567764 7.874008 9.643651 11.13553 12.4499 13.67479 14.76482 15.77973 16.7332 17.63519 18.49324 19.31321 20.09975 20.85665 21.58703 22.31591 23 23.66432 24.31049 24.93993 25.55387 26.15339 26.73948 27.313 27.87472 28.44292 28.98275 29.51271 30.03332 30.54505 31.04835 31.54362 32.03123 32.51154 32.98484 33.4664 33.92639 34.38023 34.82815 35.27039 35.70714 36.13862 36.56501 36.98648 37.40321 37.82856 38.23611 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936 38.63936</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>320</lux_idx_start>
                <lux_idx_end>330</lux_idx_end>
                <gain_start>3.9</gain_start>
                <gain_end>4.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 7.416198 10.53565 12.8841 14.86607 16.61325 18.22087 19.67232 21.0238 22.31591 23.51595 24.65766 25.74879 26.81417 27.82086 28.79236 29.74895 30.65942 31.54362 32.4037 33.25658 34.07345 34.87119 35.66511 36.42801 37.17526 37.90778 38.63936 39.34463 40.03748 40.73082 41.40048 42.05948 42.70831 43.35897 43.98864 44.60942 45.23273 45.83667 46.43275 47.02127 47.61302 48.18713 48.75449 49.32545 49.87986 50.42817 50.97058 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699 51.51699</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>340</lux_idx_start>
                <lux_idx_end>350</lux_idx_end>
                <gain_start>7.9</gain_start>
                <gain_end>8.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 9.273619 13.11488 16.09348 18.57417 20.76054 22.73763 24.57641 26.26785 27.85678 29.35984 30.80584 32.17142 33.48134 34.74191 35.95831 37.14835 38.28838 39.39543 40.47221 41.53312 42.55585 43.55456 44.53089 45.49725 46.43275 47.34976 48.24935 49.13247 50.01 50.86256 51.70107 52.52618 53.34792 54.14795 54.93633 55.71355 56.48894 57.24509 57.99138 58.72819 59.45587 60.18306 60.89335 61.59546 62.28965 62.98412 63.66318 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506 64.33506</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>360</lux_idx_start>
                <lux_idx_end>370</lux_idx_end>
                <gain_start>15.9</gain_start>
                <gain_end>16.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 12.28821 17.40689 21.30728 24.59675 27.51363 30.13304 32.54228 34.78505 36.90528 38.8973 40.79216 42.61455 44.35087 46.02173 47.64452 49.20366 50.71489 52.19195 53.61903 55.00909 56.36488 57.69749 58.99152 60.25778 61.5061 62.72161 63.91401 65.09224 66.24198 67.3721 68.48357 69.58448 70.66116 71.72169 72.77362 73.80379 74.81979 75.82876 76.81797 77.7946 78.76547 79.71825 80.65978 81.59044 82.51666 83.42661 84.32674 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324 85.22324</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>390</lux_idx_start>
                <lux_idx_end>400</lux_idx_end>
                <gain_start>32</gain_start>
                <gain_end>64</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 15.3948 21.77154 26.66458 30.78961 34.42383 37.70942 40.73082 43.54308 46.18441 48.68264 51.05879 53.32917 55.50676 57.60209 59.62382 61.57922 63.4744 65.31462 67.10439 68.84766 70.54786 72.20803 73.83089 75.41883 76.97402 78.49841 79.99375 81.46165 82.90356 84.32082 85.71465 87.08617 88.43642 89.76637 91.07689 92.36883 93.64294 94.89995 96.14053 97.36529 98.57484 99.76974 100.9505 102.1176 103.2715 104.4126 105.5415 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583 106.6583</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1 1 1 1</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 1 1 1 1</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
          </hdr_aec_data>
        </mod_abf40_hdr_aec_data>
      </drc_gain_data>
    </mod_abf40_drc_gain_data>
  </chromatix_abf40_core>
</abf40_bps>
