<?xml version="1.0" encoding="utf-8" ?>
<!--
========================================================================
   Copyright(c) 2018 Qualcomm Technologies, Inc.
   All Rights Reserved.
   Confidential and Proprietary - Qualcomm Technologies, Inc.
========================================================================
-->
<abf40_bps
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="..\..\..\XSD\isp\abf_4_0_0.xsd">
  <enable_section>
    <bilateral_en description="enable bilateral filtering, tier 1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">1</bilateral_en>
    <minmax_en description="enable built-in min-max pixel filter, tier  1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="if BPC module is on, this feature is likely off">0</minmax_en>
    <dirsmth_en description="enable Directional Smoothing filter, tier 1 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</dirsmth_en>
  </enable_section>
  <module_version major_revision="4" minor_revision="0" incr_revision="0"/>
  <control_variables>
    <control_var_type>control_drc_gain</control_var_type>
    <control_var_type>control_aec_exp_sensitivity_ratio</control_var_type>
    <control_var_type>control_gain</control_var_type>
  </control_variables>
  <control_method>
    <aec_exp_control>control_gain</aec_exp_control>
    <aec_hdr_control>control_aec_exp_sensitivity_ratio</aec_hdr_control>
  </control_method>
  <dynamic_enable_triggers>
    <bilateral_en>
      <enable description="enable ABF4.0 module" range="[0, 1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">0</enable>
      <hyst_control_var description="enable ABF4.0 module" range="[0, 1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">control_gain</hyst_control_var>
      <hyst_mode>UPWARD</hyst_mode>
      <hyst_trigger>
        <start1>1</start1>
        <end1>900</end1>
        <start2>1</start2>
        <end2>600</end2>
      </hyst_trigger>
    </bilateral_en>
  </dynamic_enable_triggers>
  <chromatix_abf40_reserve>
    <cross_plane_en description="enable Gr/Gb cross processing in bilateral filtering" range="[0,1]" bit_depth="1u" length="1" tuning_parameter_level="rarely_tune" additional_notes="none">1</cross_plane_en>
    <dark_desat_en description="enable dark desaturation feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_desat_en>
    <dark_smooth_en description="enable dark area smoothing feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="Effective when bilateral_en is on.">0</dark_smooth_en>
    <act_adj_en description="enable activity based adjustment feature, tier 2 enable" range="[0,1]" bit_depth="1u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="It is effective only when both bilateral_en and dirsmth_en are set to 1">0</act_adj_en>
    <blk_opt description="block matching pattern for R/B " range="[0, 2]" bit_depth="2u" length="1" conversion="No Conversion needed" tuning_parameter_level="rarely_tune" additional_notes="none">0</blk_opt>
    <radial_anchor_tab description="anchor tables from center to frame boundary" range="[0.0, 1.0]" bit_depth="float" length="5" conversion="No Conversion needed " tuning_parameter_level="must_tune" additional_notes="rnr_anchor[0] is 0 by default. normally rnr_anchor[4] is 1.0.">
      <radial_anchor>0 0.4 0.6 0.8 1</radial_anchor>
    </radial_anchor_tab>
  </chromatix_abf40_reserve>
  <chromatix_abf40_core>
    <mod_abf40_drc_gain_data>
      <drc_gain_trigger>
        <start>1</start>
        <end>100</end>
      </drc_gain_trigger>
      <drc_gain_data>
        <mod_abf40_hdr_aec_data>
          <hdr_aec_trigger>
            <exp_time_start>1</exp_time_start>
            <exp_time_end>64</exp_time_end>
            <aec_sensitivity_start>1</aec_sensitivity_start>
            <aec_sensitivity_end>64</aec_sensitivity_end>
          </hdr_aec_trigger>
          <hdr_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>270</lux_idx_start>
                <lux_idx_end>280</lux_idx_end>
                <gain_start>1</gain_start>
                <gain_end>1.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 6.928203 9.848858 12.04159 13.92839 15.55635 17.05872 18.41195 19.69772 20.88061 22.02271 23.08679 24.12468 25.0998 26.05763 26.96294 27.85678 28.7054 29.54657 30.34798 31.14482 31.90611 32.66497 33.39162 34.10279 34.81379 35.49648 36.1801 36.83748 37.49667 38.13135 38.76854 39.38274 40 40.59557 41.19466 41.7732 42.35564 42.91853 43.48563 44.03408 44.58699 45.12206 45.6618 46.18441 46.71188 47.22288 47.7284 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899 48.23899</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>290</lux_idx_start>
                <lux_idx_end>295</lux_idx_end>
                <gain_start>1.9</gain_start>
                <gain_end>2.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 9.110434 12.92285 15.81139 18.24829 20.39608 22.36068 24.14539 25.80698 27.36786 28.86174 30.26549 31.60696 32.89377 34.14674 35.34119 36.49657 37.61649 38.71692 39.77436 40.80441 41.80909 42.80187 43.76071 44.69899 45.61798 46.52956 47.41308 48.28043 49.13247 49.98 50.80354 51.61395 52.41183 53.20714 53.98148 54.74486 55.49775 56.24944 56.98245 57.70615 58.42089 59.13544 59.8331 60.52272 61.20457 61.88699 62.55398 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392 63.21392</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>320</lux_idx_start>
                <lux_idx_end>330</lux_idx_end>
                <gain_start>3.9</gain_start>
                <gain_end>4.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 10.72381 15.19868 18.60108 21.49418 24.02082 26.30589 28.42534 30.38091 32.23352 33.97058 35.62303 37.21559 38.72983 40.1995 41.60529 42.9651 44.29447 45.57412 46.82948 48.04165 49.22398 50.38849 51.51699 52.63079 53.7122 54.77225 55.82114 56.84188 57.85326 58.83876 59.80803 60.77006 61.709 62.63386 63.55313 64.45153 65.34524 66.21933 67.08204 67.94115 68.78226 69.6204 70.44147 71.25307 72.06247 72.85603 73.64781 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446 74.42446</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>340</lux_idx_start>
                <lux_idx_end>350</lux_idx_end>
                <gain_start>7.9</gain_start>
                <gain_end>8.1</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 12.08305 17.08801 20.92845 24.14539 27 29.5804 31.95309 34.16138 36.23534 38.19686 40.06245 41.833 43.54308 45.1885 46.77606 48.31149 49.7996 51.24451 52.64029 54.00926 55.34438 56.64804 57.92236 59.16925 60.3904 61.58734 62.75349 63.90618 65.03845 66.15134 67.24582 68.32276 69.383 70.42017 71.44928 72.46378 73.46428 74.45132 75.42546 76.38717 77.33692 78.26877 79.19596 80.11242 81.01852 81.91459 82.80096 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796 83.67796</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>360</lux_idx_start>
                <lux_idx_end>370</lux_idx_end>
                <gain_start>15</gain_start>
                <gain_end>17</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 15.74802 22.2486 27.25803 31.48015 35.18522 38.54867 41.64133 44.50843 47.21229 49.75942 52.19195 54.51605 56.73623 58.88124 60.9508 62.94442 64.88451 66.76826 68.593 70.37756 72.11796 73.81057 75.47185 77.09734 78.68291 80.24338 81.77408 83.27065 84.74668 86.19165 87.61849 89.02247 90.39912 91.76056 93.1021 94.41928 95.72356 97.01031 98.27512 99.52889 100.7671 101.9853 103.194 104.3887 105.5651 106.7333 107.8888 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275 109.0275</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
            <mod_abf40_aec_data>
              <aec_trigger>
                <lux_idx_start>390</lux_idx_start>
                <lux_idx_end>400</lux_idx_end>
                <gain_start>24</gain_start>
                <gain_end>36</gain_end>
              </aec_trigger>
              <abf40_rgn_data>
                <minmax_maxshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_maxshft>
                <minmax_minshft description="upper/lower offset (as right-shifting) used in single bpc applied to neighbor pixels" range="[0, 15]" bit_depth="4u" length="1" tuning_parameter_level="often_tune" additional_notes="none">4</minmax_minshft>
                <minmax_offset description="common absolute offset value used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="Q0 precision">64</minmax_offset>
                <minmax_bls description="black level used in single bpc applied to both center pixel and neighboring pixel" range="[0, 4095]" bit_depth="12 bit unsigned" length="1" tuning_parameter_level="often_tune" additional_notes="none">64</minmax_bls>
                <blkpix_lev_tab description="block matching or pixel matching selection. Value 0 means block matching in determining filter coefficient. Value 4 means pixel matching" range="[0, 4]" bit_depth="3u" length="2" tuning_parameter_level="often_tune" additional_notes="none">
                  <blkpix_lev>0 0</blkpix_lev>
                </blkpix_lev_tab>
                <noise_std_lut_tab description="noise profile (std) that will be used together with edge_softness to generate noise_std_dev_lut in packed format" range="[0.0, 512.0]" bit_depth="float" length="65" tuning_parameter_level="must_tune" additional_notes="The above conversion starts with 8996 ABF noise profile">
                  <noise_std_lut>0 15.6205 22.09072 27.0555 31.241 34.94281 38.27532 41.34005 44.19276 46.87217 49.40648 51.81699 54.12024 56.33826 58.46367 60.51446 62.498 64.42049 66.28725 68.10287 69.87131 71.60307 73.28711 74.9333 76.54411 78.1217 79.66806 81.18497 82.67406 84.14274 85.58037 86.99426 88.38552 89.75523 91.10434 92.43376 93.74433 95.03683 96.31718 97.57561 98.81802 100.045 101.2571 102.4549 103.6388 104.8093 105.9717 107.1168 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497 108.2497</noise_std_lut>
                </noise_std_lut_tab>
                <curve_offset_tab description="offset that is subtracted from normalized difference before generating bilateral coefficients" range="[0, 127]" bit_depth=" 7u" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <curve_offset>0 0 0 0</curve_offset>
                </curve_offset_tab>
                <dist_ker_tab description="bit shifting value corresponding to distance weight; [0-2][] – 3 smoothing levels, [][0-2,R/B, 3-5,Gr/Gb] non-zero value n means 1-shift-left-(n-1); zero value means weight of 0." range="[[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1],[1,4],[0,2],[0,1]]" bit_depth="[][0]:3bit; othes:2bit" length="3x6" tuning_parameter_level="often_tune" additional_notes="range:[0]:1-4; [1]:0-2; [2]:0-2">
                  <dist_ker>3 2 1 3 2 1 3 2 1 3 2 1 3 2 1 3 2 1</dist_ker>
                </dist_ker_tab>
                <edge_softness_tab description="control bilateral filter strength together with noise_std_lut" range="[0.0, 15.99]" bit_depth="float" length="4" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_softness>3 3 3 3</edge_softness>
                </edge_softness_tab>
                <denoise_strength_tab description="higher means more denoising, one for each channel" range="[0.0, 1.0]" bit_depth=" " length="4" tuning_parameter_level="often_tune" additional_notes="Final_slope = (1 - noise_prsv * radial_adj * act_adj) * denoise_scale">
                  <denoise_strength>1 1 1 1</denoise_strength>
                </denoise_strength_tab>
                <noise_prsv_anchor_tab description="anchor points for noise_preserve" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_anchor>0 0.06227106 0.1247863 0.8547009 1</noise_prsv_anchor>
                </noise_prsv_anchor_tab>
                <noise_prsv_base_tab description="base value for noise preserve, [0][] - R/B, [1][] - Gr/Gb" range="[0.0, 1.0]" bit_depth="float" length="10" tuning_parameter_level="often_tune" additional_notes="none">
                  <noise_prsv_base>0.1960784 0.2 0.2039216 0.2078431 0.2117647 0.1960784 0.2 0.2039216 0.2078431 0.2117647</noise_prsv_base>
                </noise_prsv_base_tab>
                <radial_edge_softness_adj_tab description="base value for rnr, used for bilateral " range="[1.0, 15.99]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="increasing table">
                  <radial_edge_softness_adj>1 1.015625 1.171875 1.875 2.78125</radial_edge_softness_adj>
                </radial_edge_softness_adj_tab>
                <radial_noise_prsv_adj_tab description="base value for rnr, used for soft-thresholding" range="[0, 1.0]" bit_depth="float" length="5" tuning_parameter_level="often_tune" additional_notes="decreasing table">
                  <radial_noise_prsv_adj>1 0.9765625 0.8203125 0.5859375 0.09375</radial_noise_prsv_adj>
                </radial_noise_prsv_adj_tab>
                <act_fac_lut_tab description="LUT for activity adjust " range="[0, 256]" bit_depth="9u" length="32" tuning_parameter_level="often_tune" additional_notes="none">
                  <act_fac_lut>256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256 256</act_fac_lut>
                </act_fac_lut_tab>
                <act_fac0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac0>
                <act_fac1 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_fac1>
                <act_thd0 description="parameter for activity adjust" range="[0, 8191]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd0>
                <act_thd1 description="parameter for activity adjust" range="[1, 4095]" bit_depth="13u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_thd1>
                <act_smth_thd0 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd0>
                <act_smth_thd1 description="parameter for activity adjust" range="[0, 255]" bit_depth="8u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</act_smth_thd1>
                <dark_thd description="parameter for activity adjust" range="[0, 4095]" bit_depth="12u" length="1" tuning_parameter_level="often_tune" additional_notes="none">0</dark_thd>
                <dark_fac_lut_tab description="parameter for dark_factor adjustment" range="[0, 256]" bit_depth="9u" length="42" tuning_parameter_level="often_tune" additional_notes="none">
                  <dark_fac_lut>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</dark_fac_lut>
                </dark_fac_lut_tab>
                <edge_detect_thd description="parameter for edge_detection" range="[0, 15]" bit_depth="4u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_thd>
                <edge_count_low description="parameter for edge_detection" range="[0, 16]" bit_depth="7u" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_count_low>
                <edge_detect_noise_scaler description="parameter for edge_detection" range="[0, 63.99]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_detect_noise_scaler>
                <edge_smooth_strength description="parameter for edge_detection" range="[0, 1.0]" bit_depth="float" length="1" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">0</edge_smooth_strength>
                <edge_smooth_scaler_tab description="parameter for edge_detection" range="[0, 15.99]" bit_depth="float" length="4" conversion="No Conversion needed" tuning_parameter_level="often_tune" additional_notes="none">
                  <edge_smooth_scaler>0 0 0 0</edge_smooth_scaler>
                </edge_smooth_scaler_tab>
              </abf40_rgn_data>
            </mod_abf40_aec_data>
          </hdr_aec_data>
        </mod_abf40_hdr_aec_data>
      </drc_gain_data>
    </mod_abf40_drc_gain_data>
  </chromatix_abf40_core>
</abf40_bps>
